<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>FTC 3 R&T</title><style>body{font-family:-apple-system,BlinkMacSystemFont,sans-serif;margin:20;padding:0;box-sizing:border-box;position:relative;padding-bottom:80px}#transcript{font-size:1.4rem;text-align:center;padding:0 10%;line-height:1.8}.highlight{background-color:#ff0}#audioPlayer{width:80%;position:fixed;bottom:0;left:50%;transform:translateX(-50%)}.section-header{font-weight:700;font-size:2rem;margin:1.5rem 0}.textElem{display:block}</style></head><body><select id="lectureSelect" onchange="location=this.value"><option value="#">Select Lecture</option><option value="../ftc-002/">ftc-002</option><option value="../ftc-003/">ftc-003</option><option value="../ftc-004/">ftc-004</option><option value="../ftc-005/">ftc-005</option><option value="../ftc-006/">ftc-006</option><option value="../ftc-007/">ftc-007</option><option value="../ftc-008/">ftc-008</option><option value="../ftc-009/">ftc-009</option><option value="../ftc-010/">ftc-010</option><option value="../ftc-011/">ftc-011</option><option value="../ftc-012/">ftc-012</option><option value="../ftc-013/">ftc-013</option><option value="../ftc-014/">ftc-014</option><option value="../ftc-015/">ftc-015</option><option value="../ftc-016/">ftc-016</option><option value="../ftc-017/">ftc-017</option><option value="../ftc-018/">ftc-018</option><option value="../ftc-019/">ftc-019</option><option value="../ftc-020/">ftc-020</option><option value="../ftc-021/">ftc-021</option><option value="../ftc-022/">ftc-022</option><option value="../ftc-023/">ftc-023</option><option value="../ftc-024/">ftc-024</option><option value="../ftc-025/">ftc-025</option><option value="../ftc-026/">ftc-026</option><option value="../ftc-027/">ftc-027</option><option value="../ftc-028/">ftc-028</option><option value="../ftc-029/">ftc-029</option><option value="../ftc-030/">ftc-030</option><option value="../ftc-031/">ftc-031</option><option value="../ftc-032/">ftc-032</option><option value="../ftc-033/">ftc-033</option></select><div id="transcript"></div><div id="audioPlayer"><audio controls style="width:100%" async><source src="recording.mp3" type="audio/mp3"><track id="vttTrack" src="transcript.vtt" kind="metadata"></audio></div><script>document.addEventListener('DOMContentLoaded',()=>{const audioPlayer=document.querySelector('#audioPlayer audio');const vttTrack=document.getElementById('vttTrack');const transcript=document.getElementById('transcript');let cuesLoaded=!1;let cues=[];vttTrack.track.mode='hidden';vttTrack.track.oncuechange=()=>{if(!cuesLoaded){cuesLoaded=!0;cues=Array.from(vttTrack.track.cues);createTranscript(cues)}
    highlightText(cues)};audioPlayer.addEventListener('timeupdate',()=>{highlightText(cues)});document.addEventListener('keydown',(event)=>{if(event.code==='Space'){event.preventDefault();if(audioPlayer.paused){audioPlayer.play()}else{audioPlayer.pause()}}});function createTranscript(cues){cues.forEach((cue)=>{const textElem=document.createElement('span');textElem.dataset.startTime=cue.startTime;textElem.textContent=cue.text+' ';textElem.style.cursor='pointer';let lastClickTime=0;textElem.addEventListener('click',()=>{const currentTime=new Date().getTime();const timeDiff=currentTime-lastClickTime;if(timeDiff<300){handleDoubleClick(textElem)}
    lastClickTime=currentTime});textElem.addEventListener('touchend',(event)=>{event.preventDefault();const currentTime=new Date().getTime();const timeDiff=currentTime-lastClickTime;if(timeDiff<300){handleDoubleClick(textElem)}
    lastClickTime=currentTime});transcript.appendChild(textElem)})}
    function highlightText(cues){const currentTime=audioPlayer.currentTime;cues.forEach((cue,index)=>{const textElem=transcript.children[index];if(currentTime>=cue.startTime&&currentTime<=cue.endTime){textElem.classList.add('highlight')}else{textElem.classList.remove('highlight')}})}
    let touchStartTime;function handleDoubleClick(textElem){audioPlayer.currentTime=parseFloat(textElem.dataset.startTime);if(audioPlayer.paused){audioPlayer.play()}}})</script></body></html>
